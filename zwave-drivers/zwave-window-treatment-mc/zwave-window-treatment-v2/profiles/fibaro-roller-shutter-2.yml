name: fibaro-roller-shutter-2
components:
- id: main
  capabilities:
  - id: windowShade
    version: 1
  - id: windowShadeLevel
    version: 1
  - id: windowShadePreset
    version: 1
  - id: legendabsolute60149.windowShadePresetValue
    version: 1
  - id: powerMeter
    version: 1
  - id: energyMeter
    version: 1
  - id: refresh
    version: 1
  categories:
  - name: Blind
preferences:
  - preferenceId: reverse
    explicit: true
  - name: "randomPresetMin"
    title: "Random window shade Preset Min."
    description: "This setting select Random Minimum value for window shade preset position command (0-50%). Default: 40%"
    required: true
    preferenceType: integer
    definition:
      minimum: 0
      maximum: 50
      default: 40
  - name: "randomPresetMax"
    title: "Random window shade Preset Max."
    description: "This setting select Random Maximum value for window shade preset position command (51-100%). Default: 90%"
    required: true
    preferenceType: integer
    definition:
      minimum: 51
      maximum: 100
      default: 90
  - name: "operatingMode"
    title: "Operating mode-10"
    description: "This setting 10 allows adjusting operation according to the connected device."
    preferenceType: enumeration
    required: true
    definition:
      options:
        0: "Roller blind(without positioning)"
        1: "Roller blind(with positioning)"
        3: "Gate Mode, without positioning"
        4: "Gate Mode, with positioning"
      default: 1
  - name: "switchType"
    title: "switch type-14"
    description: "Parameter 14 defines as what type the device should treat the switch connected to the S1 and S2 terminals"
    required: false
    preferenceType: enumeration
    definition:
      options:
        0: "momentary switch"
        1: "toggle sw. (ON/OFF)"
        2: "Single,momentary switch(connect S1)"
      default: 0
  - name: "turnOffLimitSwitch"
    title: "Turn Off After Limit Switch-17"
    description: "Parameter 17 when parameter 10 set to 0, 1 determines Roller Shutter relays are turned off after reaching a limit switchs:0-255 (0-25,5s)"
    required: true
    preferenceType: integer
    definition:
      minimum: 0
      maximum: 255
      default: 10
  - name: "motorEndMoveDetection"
    title: "Motor end move detection-18"
    description: "Parameter 18 Power threshold interpreted as reaching a limit switch."
    required: true
    preferenceType: integer
    definition:
      minimum: 0
      maximum: 255
      default: 10
  - name: "motorOperationTime"
    title: "Motor operation time-22"
    description: "The setting 22 determines Time period for the motor to continue operation 0-65535 (0-65535s)"
    required: true
    preferenceType: integer
    definition:
      minimum: 0
      maximum: 65535
      default: 240
  - name: "calibration"
    title: "Calibration-29"
    description: "This setting 29 allows triggering blinds calibration process."
    preferenceType: enumeration
    required: true
    definition:
      options:
        0: "Calibration not started"
        1: "Start calibration"
      default: 0
  - name: "powerReportsOnChange"
    title: "Power reports on change-40"
    description: "This setting 40 defines minimal change (from the last reported) in measured power that results in sending new report (0-100%)."
    required: true
    preferenceType: integer
    definition:
      minimum: 0
      maximum: 100
      default: 10
  - name: "energyReportsPeriodic"
    title: "Energy reports periodic-42"
    description: "This setting 42 defines reporting interval for Power and Energy 0-65534 (0-65534 seconds)."
    required: true
    preferenceType: integer
    definition:
      minimum: 0
      maximum: 65534
      default: 3600
  - name: "energyReportsOnChange"
    title: "Energy reports on change-43"
    description: "This setting 43 defines minimal change (from the last reported) in measured energy that results in sending new report 0-254 (0 - 2,54kWh)."
    required: true
    preferenceType: integer
    definition:
      minimum: 0
      maximum: 254
      default: 10
  - name: "powerWithSelfConsumption"
    title: "Power with self consumption-44"
    description: "This setting 44 determines whether the power measurements should include power consumed by the device itself."
    preferenceType: enumeration
    required: true
    definition:
      options:
        0: "Self-consumption not included"
        1: "Self-consumption included"
      default: 0